import React, { Component } from 'react'
import BasketCart from 'components/basketCart'
import TimeWork from 'containers/about/timeWork'
import { AppBar } from 'material-ui';
import Drawer from 'material-ui/Drawer';

import MuiThemeProvider from 'material-ui/styles/MuiThemeProvider'
import injectTapEventPlugin from 'react-tap-event-plugin'

import { browserHistory } from 'react-router'

import { ListItem } from 'material-ui/List'


import Icon from 'react-icons-kit'
import { ic_person_pin } from 'react-icons-kit/md/ic_person_pin'
import { ic_phone_in_talk } from 'react-icons-kit/md/ic_phone_in_talk'
import { ic_local_pizza } from 'react-icons-kit/md/ic_local_pizza'
import { ic_event_available } from 'react-icons-kit/md/ic_event_available'
import { menu } from 'react-icons-kit/icomoon/menu'; 
import { fileText2 } from 'react-icons-kit/icomoon/fileText2';       
import { calendar } from 'react-icons-kit/icomoon/calendar';       
import { bell } from 'react-icons-kit/icomoon/bell';       


injectTapEventPlugin()


const styles = {
    bar: {
        zIndex: '1301',
        position: 'fixed',
        backgroundColor: 'white',
        color: 'green',
        display: 'flex',
        flexDirection: 'row',
        alignItems: 'center',
        justifyContent: 'center',
        top: 0,
        left: 0,
        height: 120
    },
    menuIcon: {
        color: 'green'
        },
    logo: {
        height: 90,
        marginRight: 20,
        marginLeft: 5,
        position: 'absolute',
        left: 60,
        cursor: 'pointer'
    }
}


export default class Layout extends Component {
    constructor(props) {
        super(props);
        this.state = { open: false };
    }

    handleToggle = () => this.setState({ open: !this.state.open });

    render() {
        return <MuiThemeProvider>
            <div>
                <AppBar
                    title={<TimeWork />}
                    titleStyle={{ marginLeft: '15%', fontSize: 16, color: 'green' }}
                    children={(
                        <img
                            style={styles.logo}
                            src={'/uploads/logo.jpg'}
                            onClick={() => browserHistory.push('/')}
                        />
                    )}
                    onLeftIconButtonTouchTap={this.handleToggle}
                    iconElementLeft = { <span style={{cursor: 'pointer'}}><Icon size={24} icon={menu}/> </span>}
                    style={styles.bar}
                />
                <Drawer open={this.state.open} docked={true} width={200} containerStyle={{ top: 120 }}>
                    <ListItem
                        onClick={() => browserHistory.push('/')}
                        leftIcon={<Icon icon={ic_local_pizza} size={32} />}
                        primaryText='Меню'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
                             <ListItem
                        onClick={() => browserHistory.push('/about')}
                        leftIcon={<Icon icon={ic_person_pin} size={32} />}
                        primaryText='О нас'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
                    <ListItem
                        onClick={() => browserHistory.push('/news')}
                        leftIcon={<Icon icon={ic_event_available} size={32} />}
                        primaryText='Новости'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
               <ListItem
                        onClick={() => browserHistory.push('/events')}
                        leftIcon={<Icon icon={calendar} size={32} />}
                        primaryText='Мероприятия'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
                        <ListItem
                        onClick={() => browserHistory.push('/reviews')}
                        leftIcon={<Icon icon={fileText2} size={32} />}
                        primaryText='Отзывы'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
                     <ListItem
                        onClick={() => browserHistory.push('/shares')}
                        leftIcon={<Icon icon={bell} size={32} />}
                        primaryText='Акции'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
                    <ListItem
                        onClick={() => browserHistory.push('/contact')}
                        leftIcon={<Icon icon={ic_phone_in_talk} size={32} />}
                        primaryText='Контакты'
                        innerDivStyle={{ paddingLeft: '64px', paddingBottom: '14px', fontSize: '14px', lineHeight: '18px', color: '#283741', textTransform: 'uppercase' }}
                    />
                </Drawer>
                <div className='view-container'>
                    <div className='container'>
                        <div className='row'>
                            <div className='col-md-3 pull-right'>
                                {this.props.location.pathname !== '/basket' && <BasketCart />}
                            </div>
                            <div className='col-md-8'>
                                {this.props.children}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </MuiThemeProvider>
    }
}

